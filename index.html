<!DOCTYPE html>
<html ng-app="pomodoroApp">
  <head>
    <title>番茄时间</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/customized.css" rel="stylesheet">

    <script src="js/lib/angular.min.js"></script>
    <script src="js/lib/angular-round-progress-directive.js"></script>
    <script src="js/application.js"></script>
    <script src="js/controllers.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">番茄时间</a>
      </div>
    </nav>
    <div class="container" ng-controller="pomodoroController">
      <div class="row">
        <div class="stage col-md-6 col-xs-12">
          <div class="timer-container">
            <div ang:round:progress data-round-progress-model="timerStatus"
                                    data-round-progress-width="400"
                                    data-round-progress-height="400"
                                    data-round-progress-outer-circle-width="30"
                                    data-round-progress-inner-circle-width="5"
                                    data-round-progress-outer-circle-radius="180"
                                    data-round-progress-inner-circle-radius="140"
                                    data-round-progress-label-font="60pt Arial"
                                    data-round-progress-outer-circle-background-color="#505769"
                                    data-round-progress-outer-circle-foreground-color="#12eeb9"
                                    data-round-progress-inner-circle-color="#505769"
                                    data-round-progress-label-color="#fff">
            </div>
          </div>
          <div class="active-task">
            <h2>{{ activeTask.title }}</h2>
            <button class="btn btn-danger" ng-show="activeTask" ng-click="breakActiveTask()">中断当前番茄钟</button>
          </div>
        </div>
        <div class="col-md-3 col-xs-12" ng-controller="pomodoroTasksController">
          <p>今日任务列表</p>
          <ul class="list-unstyled task-list">
            <li class="task" ng-repeat="task in allTasks.unfinished | filter:{today:true}">
              {{ task.title }}
              <div class="task-operation-container pull-right">
                <button type="button" class="btn btn-success btn-xs" ng-click="startTask(task)"><i class="fa fa-play"></i></button>
                <button type="button" class="btn btn-warning btn-xs" ng-click="task.today=false"><i class="fa fa-share"></i></button>
                <button type="button" class="btn btn-danger btn-xs" ng-click="removeTask(task)"><i class="fa fa-trash-o"></i></button>
              </div>
              <div class="task-description">
                {{ task.description }}
              </div>
            </li>
          </ul>
          <div ng-show="openNewTaskForm" class="new-task-form">
            <div class="form-group">
              <input type="text" class="form-control" ng-model="newTask.title" placeholder="任务名称">
            </div>
            <div class="form-group">
              <textarea class="form-control" rows="3" ng-model="newTask.description" placeholder="描述/备注"></textarea>
            </div>
            <div class="form-group">
              <button class="btn btn-sm btn-success" ng-click="addTask(true)">添加</button>
              <button class="btn btn-sm btn-danger" ng-click="openNewTaskForm=false;newTask.title=''">取消</button>
            </div>
          </div>
          <h4 ng-hide="openNewTaskForm"><small class="open-new-task-form" ng-click="openNewTaskForm=true">添加新任务...</small></h4>
        </div>
        <div class="col-md-3 col-xs-12" ng-controller="pomodoroTasksController">
          <p>候选任务列表</p>
          <ul class="list-unstyled task-list">
            <li class="task" ng-repeat="task in allTasks.unfinished | filter:{today:false}">
              {{ task.title }}
              <div class="task-operation-container pull-right">
                <button type="button" class="btn btn-warning btn-xs" ng-click="task.today=true"><i class="fa fa-reply"></i></button>
                <button type="button" class="btn btn-danger btn-xs" ng-click="removeTask(task)"><i class="fa fa-trash-o"></i></button>
              </div>
              <div class="task-description">
                {{ task.description }}
              </div>
            </li>
          </ul>
          <div ng-show="openNewTaskForm" class="new-task-form">
            <div class="form-group">
              <input type="text" class="form-control" ng-model="newTask.title" placeholder="任务名称">
            </div>
            <div class="form-group">
              <textarea class="form-control" rows="3" ng-model="newTask.description" placeholder="描述/备注"></textarea>
            </div>
            <div class="form-group">
              <button class="btn btn-sm btn-success" ng-click="addTask(false)">添加</button>
              <button class="btn btn-sm btn-danger" ng-click="openNewTaskForm=false;newTask.title=''">取消</button>
            </div>
          </div>
          <h4 ng-hide="openNewTaskForm"><small class="open-new-task-form" ng-click="openNewTaskForm=true">添加新任务...</small></h4>
        </div>
      </div>
    </div>
  </body>
</html>